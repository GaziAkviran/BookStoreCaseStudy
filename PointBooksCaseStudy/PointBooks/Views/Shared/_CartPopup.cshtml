@using PointBooks.Models.ViewModels
@model PointBooks.Models.ViewModels.CartViewModel

<div class="dropdown">
    <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="cartDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="fas fa-shopping-cart"></i>
        <span class="badge bg-danger">@Model.CartItemCount</span>
    </a>

    <div class="dropdown-menu dropdown-menu-end p-3" aria-labelledby="cartDropdown" style="width: 300px;">
        <div>
            <p>Sepetinize 213,05 TL'lik ürün ekleyin, Kargo Ücretsiz kampanyasından yararlanın.</p>
        </div>
        @foreach (var item in Model.CartItems)
        {
            @await Html.PartialAsync("_CartItem", item)
        }
        <hr>
        <div class="d-flex justify-content-between">
            <strong>TOPLAM TUTAR</strong>
            <strong>@Model.TotalPrice.ToString("C")</strong>
        </div>
        <a href="@Url.Action("Cart", "Checkout")" class="btn btn-danger w-100 mt-2">SEPETE GİT</a>
    </div>
</div>